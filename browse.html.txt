<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Browse Hustles - Sika Lekhekhe</title>
        <style>
            body {
                  font-family: Arial, sans-serif;
                        background-color: white;
                              margin: 0;
                                    padding: 20px;
                                        }

                                            h1 {
                                                  color: navy;
                                                        text-align: center;
                                                            }

                                                                .filter-bar {
                                                                      display: flex;
                                                                            flex-wrap: wrap;
                                                                                  justify-content: center;
                                                                                        gap: 10px;
                                                                                              margin-bottom: 20px;
                                                                                                  }

                                                                                                      select {
                                                                                                            padding: 10px;
                                                                                                                  border-radius: 5px;
                                                                                                                        border: 1px solid navy;
                                                                                                                              font-size: 14px;
                                                                                                                                  }

                                                                                                                                      .hustle-card {
                                                                                                                                            border: 1px solid #ccc;
                                                                                                                                                  border-radius: 10px;
                                                                                                                                                        padding: 15px;
                                                                                                                                                              margin: 15px 0;
                                                                                                                                                                    background-color: #f9f9f9;
                                                                                                                                                                        }

                                                                                                                                                                            .whatsapp-button {
                                                                                                                                                                                  background-color: navy;
                                                                                                                                                                                        color: white;
                                                                                                                                                                                              padding: 10px 15px;
                                                                                                                                                                                                    border: none;
                                                                                                                                                                                                          border-radius: 5px;
                                                                                                                                                                                                                cursor: pointer;
                                                                                                                                                                                                                    }

                                                                                                                                                                                                                        .whatsapp-button:hover {
                                                                                                                                                                                                                              background-color: #003366;
                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                    </style>
                                                                                                                                                                                                                                    </head>
                                                                                                                                                                                                                                    <body>

                                                                                                                                                                                                                                      <h1>Find a Hustler Near You ðŸ’¼</h1>

                                                                                                                                                                                                                                        <!-- Filter Section -->
                                                                                                                                                                                                                                          <div class="filter-bar">
                                                                                                                                                                                                                                              <select id="provinceFilter">
                                                                                                                                                                                                                                                    <option value="">Filter by Province</option>
                                                                                                                                                                                                                                                          <option>Eastern Cape</option>
                                                                                                                                                                                                                                                                <option>Free State</option>
                                                                                                                                                                                                                                                                      <option>Gauteng</option>
                                                                                                                                                                                                                                                                            <option>KwaZulu-Natal</option>
                                                                                                                                                                                                                                                                                  <option>Limpopo</option>
                                                                                                                                                                                                                                                                                        <option>Mpumalanga</option>
                                                                                                                                                                                                                                                                                              <option>Northern Cape</option>
                                                                                                                                                                                                                                                                                                    <option>North West</option>
                                                                                                                                                                                                                                                                                                          <option>Western Cape</option>
                                                                                                                                                                                                                                                                                                              </select>

                                                                                                                                                                                                                                                                                                                  <select id="skillFilter">
                                                                                                                                                                                                                                                                                                                        <option value="">Filter by Skill</option>
                                                                                                                                                                                                                                                                                                                              <option>Hair Styling</option>
                                                                                                                                                                                                                                                                                                                                    <option>Makeup</option>
                                                                                                                                                                                                                                                                                                                                          <option>Nail Technician</option>
                                                                                                                                                                                                                                                                                                                                                <option>Plumbing</option>
                                                                                                                                                                                                                                                                                                                                                      <option>Photography</option>
                                                                                                                                                                                                                                                                                                                                                            <option>Sewing</option>
                                                                                                                                                                                                                                                                                                                                                                  <option>Cleaning Services</option>
                                                                                                                                                                                                                                                                                                                                                                        <option>Catering</option>
                                                                                                                                                                                                                                                                                                                                                                              <option>DJ</option>
                                                                                                                                                                                                                                                                                                                                                                                    <option>Music Lessons</option>
                                                                                                                                                                                                                                                                                                                                                                                          <option>Fitness Trainer</option>
                                                                                                                                                                                                                                                                                                                                                                                                <option>Woodwork</option>
                                                                                                                                                                                                                                                                                                                                                                                                      <option>Mechanic</option>
                                                                                                                                                                                                                                                                                                                                                                                                            <option>Tech Repairs</option>
                                                                                                                                                                                                                                                                                                                                                                                                                  <option>Art & Craft</option>
                                                                                                                                                                                                                                                                                                                                                                                                                      </select>
                                                                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                                                                          <div id="browseContainer">Loading hustles...</div>

                                                                                                                                                                                                                                                                                                                                                                                                                            <script>
                                                                                                                                                                                                                                                                                                                                                                                                                                let allData = [];

                                                                                                                                                                                                                                                                                                                                                                                                                                    const provinceFilter = document.getElementById("provinceFilter");
                                                                                                                                                                                                                                                                                                                                                                                                                                        const skillFilter = document.getElementById("skillFilter");
                                                                                                                                                                                                                                                                                                                                                                                                                                            const container = document.getElementById("browseContainer");

                                                                                                                                                                                                                                                                                                                                                                                                                                                fetch("https://script.google.com/macros/s/AKfycbwWoO1pWxWiX7B-mCIIoZIOZWw_lRrDiYwD0Ht2OvGWd2WKec9XG0tNfLNn1hlz3ig/exec")
                                                                                                                                                                                                                                                                                                                                                                                                                                                      .then(response => response.json())
                                                                                                                                                                                                                                                                                                                                                                                                                                                            .then(data => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    allData = data.filter(entry => entry["Name"]);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            renderCards();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      function renderCards() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            container.innerHTML = "";

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  const selectedProvince = provinceFilter.value;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const selectedSkill = skillFilter.value;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const filtered = allData.filter(entry => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      return (!selectedProvince || entry["Province"] === selectedProvince) &&
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (!selectedSkill || entry["Skill"] === selectedSkill);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 if (filtered.length === 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         container.innerHTML = "<p>No hustles found with those filters. âœ…</p>";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             filtered.forEach(entry => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     const card = document.createElement("div");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             card.className = "hustle-card";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     card.innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               <h3>${entry["Name"]}</h3>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <p><strong>Skill:</strong> ${entry["Skill"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   <p><strong>Province:</strong> ${entry["Province"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <p><strong>City:</strong> ${entry["City"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <p><strong>Phone:</strong> ${entry["Phone"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <p><strong>Email:</strong> ${entry["Email"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <p><strong>Date:</strong> ${entry["Date"]}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <a href="${entry["WhatsApp Link"]}" target="_blank">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <button class="whatsapp-button">Book on WhatsApp</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           </a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <div style="margin-top:10px;">${entry["Paid Image"]}</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             `;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     container.appendChild(card);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   provinceFilter.addEventListener("change", renderCards);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       skillFilter.addEventListener("change", renderCards);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         </script>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         </html>