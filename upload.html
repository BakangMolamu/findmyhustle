<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Upload Product – FindMyHustle</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e;
    --btn1:#a855f7; --btn2:#3b82f6;
    --card:rgba(255,255,255,0.12);
    --text:#fff;
  }
  body{
    margin:0; font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
    color:var(--text);
  }
  nav{display:flex;justify-content:space-between;align-items:center;background:#0008;padding:1rem 2rem}
  nav a{color:#fff;text-decoration:none;margin:0 1rem;font-weight:600}
  main{max-width:980px;margin:30px auto;padding:0 16px}
  h1{margin:18px 0 8px;font-size:2rem}
  .grid{display:grid;grid-template-columns:1fr;gap:16px}
  @media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:var(--card);border-radius:14px;padding:18px 16px}
  .card h2{margin:4px 0 12px}
  label{display:block;font-weight:600;margin:10px 0 6px}
  input,select,textarea{
    width:100%;padding:11px;border-radius:10px;
    border:1px solid #ffffff2a;background:#ffffff12;color:#fff
  }
  input::placeholder,textarea::placeholder{color:#ddd}
  textarea{min-height:90px;resize:vertical}
  .btn{display:inline-block;background:linear-gradient(90deg,var(--btn1),var(--btn2));color:#fff;border:none;border-radius:10px;padding:12px 18px;font-weight:700;cursor:pointer;text-decoration:none}
  .btn.block{display:block;width:100%;text-align:center}
  .note{background:#ffe08a22;color:#ffd26e;border:1px dashed #ffd26e;padding:10px;border-radius:10px;margin-top:8px}
  .msg{margin-top:12px;padding:12px;border-radius:10px;display:none}
  .msg.ok{background:#16a34a33;border:1px solid #16a34a}
  .msg.err{background:#ef444433;border:1px solid #ef4444}
  iframe{width:100%;border-radius:10px;margin-top:10px}
</style>
</head>
<body>
<nav>
  <div><strong>FindMyHustle</strong></div>
  <div>
    <a href="index.html">Home</a>
    <a href="browse.html">Browse</a>
  </div>
</nav>

<main>
  <h1>Upload Your Product</h1>
  <p>Only <strong>T-shirts, Caps, Hats</strong>. Complete the form below.</p>

  <section class="card">
    <h2>New Listing</h2>
    <form id="uploadForm">
      <label>Owner Name</label>
      <input name="Owner Name" placeholder="Your name or brand" required>

      <label>Email</label>
      <input name="Email" type="email" placeholder="you@example.com" required>

      <label>Phone</label>
      <input name="Phone" type="tel" placeholder="+27 ..." required>

      <label>WhatsApp Link</label>
      <input name="WhatsApp Link" type="url" placeholder="https://wa.me/27XXXXXXXXX" required>
      <iframe src="https://www.youtube.com/embed/zz1yJ7X6C1M" title="How to create WhatsApp link" allowfullscreen></iframe>

      <label>Province</label>
      <input name="Province" placeholder="e.g. North West" required>

      <label>City</label>
      <input name="City" placeholder="e.g. Mahikeng" required>

      <label>Product Type</label>
      <select name="Product Type" required>
        <option value="">Select type</option>
        <option>T-shirt</option>
        <option>Cap</option>
        <option>Hat</option>
      </select>

      <label>Product Name</label>
      <input name="Product Name" placeholder="e.g. Classic Logo Tee" required>

      <label>Price (ZAR)</label>
      <input name="Price (ZAR)" type="number" min="0" step="1" placeholder="e.g. 110" required>

      <label>Color</label>
      <input name="Color" placeholder="e.g. Navy / Black" />

      <label>Size</label>
      <input name="Size" placeholder="e.g. S–XXL / Adjustable" />

      <label>Image URL (from imgbb)</label>
      <input name="Image URL" type="url" placeholder="https://i.ibb.co/...jpg" required>
      <p class="note">Upload image at <a href="https://imgbb.com" target="_blank" style="color:#fff">imgbb.com</a> → copy "Direct Link".</p>

      <label>Description</label>
      <textarea name="Description" placeholder="Add details: fabric, fit, quantity, sizes available, etc."></textarea>

      <label>Plan</label>
      <select name="Plan" required>
        <option value="Free">Free (3 uploads, 14 days)</option>
        <option value="Basic">Basic (10 uploads, 30 days)</option>
        <option value="Pro">Pro (Unlimited, 30 days)</option>
      </select>

      <label>
        <input type="checkbox" required> I agree to the <a href="terms.html" target="_blank" style="color:#3b82f6">Terms & Conditions</a> and <a href="privacy.html" target="_blank" style="color:#3b82f6">Privacy Policy</a>.
      </label>

      <button class="btn block" type="submit">Submit Listing</button>
      <div id="msgOk" class="msg ok">✅ Listing submitted.</div>
      <div id="msgErr" class="msg err">❌ Something went wrong.</div>
    </form>
  </section>
</main>

<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwVrTMSJ_h_yBj4KFnK2vxE6xr62aTst6ZJ0Ze2CkLLYMRYrkPFOKhZxe_f_ItXXztx/exec"; // replace with your Apps Script URL
  const f = document.getElementById('uploadForm');
  const ok = document.getElementById('msgOk');
  const err = document.getElementById('msgErr');

  f.addEventListener('submit', async (e) => {
    e.preventDefault();
    ok.style.display = 'none'; err.style.display = 'none';

    const formData = new FormData(f);
    try {
      const res = await fetch(SCRIPT_URL, { method:'POST', body:formData });
      const data = await res.json().catch(()=>({status:'ok'}));

      if(data.status === 'success'){
        ok.style.display = 'block'; f.reset();
      }else{
        err.textContent = data.message || "Something went wrong.";
        err.style.display = 'block';
      }
    } catch(e){
      err.textContent = "Network error. Try again.";
      err.style.display = 'block';
    }
  });
</script>
</body>
        </html>
