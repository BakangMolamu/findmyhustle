<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rate My Professor - Simple Version</title>
<style>
  body { font-family: Arial; margin:0; background:#f4f7fa; }
  header { background:#1a73e8; color:#fff; padding:20px; text-align:center; }
  .container { max-width:800px; margin:auto; padding:20px; }
  h2 { color:#1a73e8; }
  input, textarea { width:100%; padding:10px; margin:10px 0; border-radius:5px; border:1px solid #ccc; }
  button { background:#1a73e8; color:#fff; border:none; padding:10px 15px; border-radius:5px; cursor:pointer; }
  button:hover { background:#155ab6; }
  .comment { background:#fff; padding:10px; border-radius:8px; margin-bottom:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
  .comment-email { font-size:12px; color:#666; }
  .error { color:red; font-size:14px; }
</style>
</head>
<body>

<header>
  <h1>Rate My Professor</h1>
  <p>Simple and easy commenting system for all students</p>
</header>

<div class="container">

  <h2>Submit Your Rating</h2>
  <div class="error" id="errorMsg"></div>
  <input type="text" id="course" placeholder="Course Name">
  <input type="text" id="lecturer" placeholder="Lecturer Name">
  <input type="number" id="rating" placeholder="Rating (1-5)" min="1" max="5">
  <textarea id="comment" placeholder="Your comment"></textarea>
  <input type="email" id="email" placeholder="Your email">
  <label><input type="checkbox" id="anonymous"> Post anonymously</label>
  <button onclick="submitComment()">Submit Comment</button>

  <h2>Comments</h2>
  <div id="commentsSection"></div>

</div>

<script>
let bannedEmails = []; // List of banned emails
let comments = []; // List of submitted comments

function submitComment() {
  const course = document.getElementById('course').value.trim();
  const lecturer = document.getElementById('lecturer').value.trim();
  const rating = document.getElementById('rating').value.trim();
  const comment = document.getElementById('comment').value.trim();
  const email = document.getElementById('email').value.trim();
  const anonymous = document.getElementById('anonymous').checked;
  const errorMsg = document.getElementById('errorMsg');

  // Validation
  if(!course || !lecturer || !rating || !email) {
    errorMsg.innerText = "Please fill all required fields";
    return;
  }
  if(bannedEmails.includes(email.toLowerCase())) {
    errorMsg.innerText = "This email is banned from commenting.";
    return;
  }

  // Save comment
  const newComment = {
    course, lecturer, rating, comment,
    email: anonymous ? "Anonymous" : email
  };
  comments.push(newComment);
  displayComments();

  // Clear inputs
  document.getElementById('course').value = '';
  document.getElementById('lecturer').value = '';
  document.getElementById('rating').value = '';
  document.getElementById('comment').value = '';
  document.getElementById('email').value = '';
  document.getElementById('anonymous').checked = false;
  errorMsg.innerText = '';
}

// Display comments
function displayComments() {
  const section = document.getElementById('commentsSection');
  section.innerHTML = '';
  comments.forEach(c => {
    const div = document.createElement('div');
    div.className = 'comment';
    div.innerHTML = `<strong>${c.lecturer} (${c.course})</strong><br>
                     Rating: ${c.rating}/5<br>
                     ${c.comment}<br>
                     <span class="comment-email">${c.email}</span>`;
    section.appendChild(div);
  });
}

// Function to ban email (admin feature)
function banEmail(email) {
  if(!bannedEmails.includes(email.toLowerCase())) {
    bannedEmails.push(email.toLowerCase());
    alert(email + " has been banned from commenting.");
  }
}
</script>

</body>
</html>
