<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FindMyHustle | AI Poster Creator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --purple:#4B0082;
      --lightblue:#87CEFA;
      --glass: rgba(255,255,255,0.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins',sans-serif;
      color:white;
      background: linear-gradient(135deg,var(--purple),var(--lightblue));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
    }

    header{padding:28px 18px;text-align:center}
    header h1{margin:0;font-size:28px;letter-spacing:0.4px}
    header p{margin:8px 0 0;opacity:0.95}

    .nav-buttons{margin-top:18px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
    .btn{
      background:white;color:var(--purple);
      border:none;padding:10px 16px;border-radius:22px;font-weight:600;cursor:pointer;
      box-shadow:0 3px 8px rgba(0,0,0,0.15);
    }
    .btn.outline{background:transparent;color:white;border:1px solid rgba(255,255,255,0.18)}

    main{padding:18px;display:grid;gap:18px;max-width:1100px;margin:0 auto}

    /* Steps card */
    .steps{
      display:grid;grid-template-columns:1fr;gap:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      padding:18px;border-radius:14px;backdrop-filter: blur(6px);
    }
    .type-tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
    .type-tab{padding:8px 12px;border-radius:12px;background:transparent;border:1px solid rgba(255,255,255,0.08);cursor:pointer}
    .type-tab.active{background:rgba(255,255,255,0.12);font-weight:700}

    .steps-list{display:flex;flex-direction:column;gap:8px;padding-top:6px}
    .step{background:var(--glass);padding:12px;border-radius:10px;text-align:left;color:#fff}

    .examples{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .example{background:transparent;border:1px dashed rgba(255,255,255,0.12);padding:8px 10px;border-radius:8px;cursor:pointer;font-size:14px}

    /* Generator area */
    .generator{
      display:grid;grid-template-columns:1fr;gap:14px;
      background:rgba(0,0,0,0.18);padding:16px;border-radius:14px;
    }
    .generator-top{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:space-between}
    .left-controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    select,input[type="text"],textarea{padding:10px;border-radius:10px;border:none;min-width:180px}
    input[type="text"]{width:100%;max-width:520px}

    .generate{background:linear-gradient(90deg,var(--lightblue), #9be7ff);color:var(--purple);border:none;padding:10px 16px;border-radius:12px;cursor:pointer;font-weight:700}
    .small{font-size:13px;opacity:0.95}

    /* Preview */
    .preview-wrap{display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center}
    .poster-area{position:relative;background:#222;border-radius:10px;padding:16px}
    .poster-area img{display:block;max-width:100%;height:auto;border-radius:8px}
    .controls-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}

    .text-tool{background:rgba(255,255,255,0.06);padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06)}
    .pay-btn{background:#2ecc71;border:none;padding:10px 16px;border-radius:12px;color:white;font-weight:700;cursor:pointer}
    .download-btn{background:#ffffff10;border:none;padding:8px 12px;border-radius:10px;color:white;cursor:pointer}

    /* draggable text style */
    .draggable-text{
      position:absolute;min-width:30px;min-height:24px;padding:6px 8px;border-radius:6px;
      cursor:move;user-select:none;white-space:pre-wrap;
      box-shadow:0 6px 18px rgba(0,0,0,0.4);
    }
    .draggable-text[contenteditable="true"]{outline:2px dashed rgba(255,255,255,0.06)}

    footer{padding:18px;text-align:center;font-size:13px;opacity:0.95}
    @media(min-width:900px){
      .steps{grid-template-columns:1fr 1fr}
      .generator{grid-template-columns:1fr 420px}
      .preview-wrap{align-items:flex-start}
    }
  </style>
</head>
<body>
  <header>
    <h1>🎨 FindMyHustle — AI Poster Creator</h1>
    <p>Make Wedding, Event, or Restaurant/Menu posters fast. Edit text on the poster & pay <strong>R20</strong> for the final download.</p>
    <div class="nav-buttons">
      <button class="btn" onclick="document.getElementById('generator').scrollIntoView({behavior:'smooth'})">Create Poster</button>
      <button class="btn outline" onclick="document.getElementById('how').scrollIntoView({behavior:'smooth'})">How it works</button>
      <button class="btn outline" onclick="alert('Email: support@findmyhustle.xyz')">Contact</button>
    </div>
  </header>

  <main>
    <!-- Steps & templates -->
    <section id="how" class="steps" aria-labelledby="how-title">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <h2 id="how-title" style="margin:0">Choose a template type — follow 3 simple steps</h2>
        <div class="type-tabs" id="typeTabs" role="tablist" aria-label="Template types">
          <button class="type-tab active" data-type="wedding" onclick="selectType('wedding', this)">Wedding</button>
          <button class="type-tab" data-type="event" onclick="selectType('event', this)">Event / Party</button>
          <button class="type-tab" data-type="menu" onclick="selectType('menu', this)">Restaurant / Menu</button>
        </div>
      </div>

      <div class="steps-list" id="stepsList">
        <!-- Content swapped by JS -->
      </div>

      <div style="margin-top:6px;color:#fff8" class="small">
        Tip: Tap one of the example prompts below to auto-fill the prompt box in the generator.
      </div>

      <div class="examples" id="examplesRow" aria-hidden="false">
        <!-- Example prompts inserted by JS -->
      </div>
    </section>

    <!-- Generator -->
    <section id="generator" class="generator" aria-labelledby="gen-title">
      <div class="generator-top">
        <div class="left-controls">
          <label class="small" for="templateSelect">Template</label>
          <select id="templateSelect" class="text-tool" onchange="onTemplateChange()">
            <option value="wedding">Wedding</option>
            <option value="event">Event / Party</option>
            <option value="menu">Restaurant / Menu</option>
          </select>

          <label class="small" for="size">Size</label>
          <select id="size" class="text-tool">
            <option value="square">Square 1024x1024</option>
            <option value="poster">Portrait 768x1024</option>
            <option value="banner">Banner 1280x720</option>
          </select>
        </div>

        <div style="display:flex;gap:8px;align-items:center">
          <div class="small">Price: <strong>R20 / poster</strong></div>
          <button class="generate" onclick="generatePoster()">Generate Poster</button>
        </div>
      </div>

      <div>
        <input id="promptInput" type="text" placeholder="Describe your poster (e.g. 'black & white wedding poster with roses and modern script')"/>
        <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="example btn outline" onclick="fillPrompt('Elegant black and white wedding poster with roses and script font')">Wedding — Elegant B/W</button>
          <button class="example btn outline" onclick="fillPrompt('High-energy party poster with fire, speakers and neon text')">Party — Fire & Speakers</button>
          <button class="example btn outline" onclick="fillPrompt('Modern restaurant menu poster with food photos, neat sections and prices')">Menu — Modern</button>
        </div>
      </div>

      <div style="display:flex;gap:12px;flex-direction:column">
        <div class="preview-wrap">
          <div id="previewMessage" class="small" style="opacity:0.95">After you click <strong>Generate Poster</strong> an AI-created preview will appear here. You can add text boxes, edit text and drag them to where you want.</div>

          <div id="posterContainer" class="poster-area" style="margin-top:10px;max-width:420px">
            <!-- Poster image and text overlays will be injected here -->
          </div>

          <div class="controls-row">
            <button class="text-tool" onclick="addTextBox()">+ Add text</button>
            <button class="download-btn" onclick="downloadPreview()" title="Download (requires payment integration)">Download</button>
            <button class="pay-btn" onclick="payNow()">Pay R20</button>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div>© FindMyHustle 2025 — Build posters fast. For support: support@findmyhustle.xyz</div>
  </footer>

  <script>
    // ----- Initial data for steps and examples -----
    const TEMPLATE_INFO = {
      wedding: {
        steps: [
          "Step 1 — Choose style: Select 'Wedding' and tell the AI keywords like 'elegant', 'black & white', 'roses', 'script font'.",
          "Step 2 — Provide details: Enter names, date, venue, time, dress code (if any). Example: 'Thabo & Lindiwe - 12 Dec 2025 - Rose Garden'.",
          "Step 3 — Edit & pay: Move text boxes to your liking, then press 'Pay R20' to download the high-res poster."
        ],
        examples:[
          "Elegant black and white wedding poster with roses and script font",
          "Simple modern wedding invite with gold accents and serif font",
          "Traditional wedding poster with floral borders and calligraphy"
        ]
      },
      event: {
        steps: [
          "Step 1 — Choose style: Pick 'Event / Party' and tell the AI the mood: 'energetic', 'dark rave', 'neon', 'fire and speakers'.",
          "Step 2 — Add event info: Who's playing, date, venue, ticket price. Example: 'DJ Kgozi • 31 Oct 2025 • Club 9pm' ",
          "Step 3 — Arrange text & finalize: Drag the headline, date, and venue text boxes then press 'Pay R20' to get a watermark-free download."
        ],
        examples:[
          "High-energy party poster with fire, speakers and neon text",
          "Electronic music night with lasers and crowd silhouettes",
          "Chill acoustic evening with warm tones and guitar image"
        ]
      },
      menu: {
        steps: [
          "Step 1 — Choose style: Pick 'Restaurant / Menu' and tell AI the food mood: 'modern', 'rustic', 'minimal', or 'vintage'.",
          "Step 2 — Add menu items: Provide item names and prices or ask AI to layout sections (Starters, Mains, Drinks).",
          "Step 3 — Edit layout: Add or move text boxes for prices and descriptions, then press 'Pay R20' to download final menu poster."
        ],
        examples:[
          "Modern restaurant menu poster with food photos, neat sections and prices",
          "Rustic cafe menu with hand-drawn icons and chalkboard style",
          "Specials poster: '2 for R99' with bold headline and food photography"
        ]
      }
    };

    // Populate steps and examples on load
    const stepsList = document.getElementById('stepsList');
    const examplesRow = document.getElementById('examplesRow');
    let currentType = 'wedding';
    function renderSteps(type){
      stepsList.innerHTML = '';
      TEMPLATE_INFO[type].steps.forEach((s,i)=>{
        const div = document.createElement('div');
        div.className = 'step';
        div.innerHTML = `<strong>Step ${i+1}</strong><div style="margin-top:6px">${s}</div>`;
        stepsList.appendChild(div);
      });
      examplesRow.innerHTML = '';
      TEMPLATE_INFO[type].examples.forEach(ex=>{
        const btn = document.createElement('button');
        btn.className = 'example';
        btn.innerText = ex;
        btn.onclick = ()=> fillPrompt(ex);
        examplesRow.appendChild(btn);
      });
    }
    renderSteps(currentType);

    // Tab switching
    function selectType(type, el){
      currentType = type;
      // style active
      document.querySelectorAll('.type-tab').forEach(t=>t.classList.remove('active'));
      el.classList.add('active');
      // change select dropdown too
      document.getElementById('templateSelect').value = type;
      renderSteps(type);
    }

    // When template select changes
    function onTemplateChange(){
      const val = document.getElementById('templateSelect').value;
      currentType = val;
      // set tab style
      document.querySelectorAll('.type-tab').forEach(t=>t.classList.remove('active'));
      const tab = Array.from(document.querySelectorAll('.type-tab')).find(x=>x.dataset.type===val);
      if(tab) tab.classList.add('active');
      renderSteps(val);
    }

    // Fill prompt helper
    function fillPrompt(text){
      document.getElementById('promptInput').value = text;
      window.scrollTo({top:document.getElementById('generator').offsetTop - 60, behavior:'smooth'});
    }

    // ----- Poster generation (placeholder image) -----
    let posterImageUrl = '';
    let overlayIndex = 0;

    function generatePoster(){
      const prompt = document.getElementById('promptInput').value.trim();
      const template = document.getElementById('templateSelect').value;
      const size = document.getElementById('size').value;
      const preview = document.getElementById('posterContainer');
      const previewMessage = document.getElementById('previewMessage');

      if(!prompt){
        alert('Type a brief description for the poster (examples are above).');
        return;
      }

      previewMessage.innerText = '⏳ Generating poster preview...';
      preview.innerHTML = '';

      // ----- Replace this block with your real AI image API call -----
      // For now we use a placeholder image service that includes the prompt text.
      // When you integrate OpenAI/Hostinger image API, call it here and set `posterImageUrl` to the returned image URL.
      const encoded = encodeURIComponent(prompt);
      const dimensions = size==='square'?'500x500':(size==='poster'?'600x800':'900x506');
      posterImageUrl = `https://via.placeholder.com/${dimensions}.png?text=${encoded}`;
      // ---------------------------------------------------------------

      // Render poster
      const img = document.createElement('img');
      img.src = posterImageUrl;
      img.alt = 'Poster preview';
      img.onload = ()=>{
        previewMessage.innerText = 'Preview ready — add text boxes, edit them and drag to position.';
      }
      // clear overlays and inject image container
      preview.appendChild(img);

      // make room for overlays: position relative on container (already)
      // reset overlay index
      overlayIndex = 0;
    }

    // ----- Add text boxes that are editable and draggable -----
    function addTextBox(initial ='Your text'){
      const container = document.getElementById('posterContainer');
      if(!container.querySelector('img')){
        alert('Generate a poster first.');
        return;
      }
      overlayIndex++;
      const id = 'overlay-' + Date.now() + '-' + overlayIndex;
      const div = document.createElement('div');
      div.className = 'draggable-text';
      div.id = id;
      div.contentEditable = true;
      div.style.left = '20px';
      div.style.top = (20 + overlayIndex*30) + 'px';
      div.style.fontSize = '20px';
      div.style.color = 'white';
      div.style.background = 'rgba(0,0,0,0.25)';
      div.innerText = initial;
      // double click to delete
      div.ondblclick = ()=> {
        if(confirm('Remove this text box?')) div.remove();
      };
      container.appendChild(div);
      makeDraggable(div);
    }

    function makeDraggable(el){
      let isDown = false, offsetX=0, offsetY=0;
      el.addEventListener('mousedown', (e)=>{
        isDown = true;
        // calculate position relative to parent
        const rect = el.getBoundingClientRect();
        offsetX = e.clientX - rect.left;
        offsetY = e.clientY - rect.top;
        // bring to front
        el.style.zIndex = 1000;
      });
      window.addEventListener('mousemove', (e)=>{
        if(!isDown) return;
        const parentRect = el.parentElement.getBoundingClientRect();
        let x = e.clientX - parentRect.left - offsetX;
        let y = e.clientY - parentRect.top - offsetY;
        // clamp inside parent
        x = Math.max(0, Math.min(x, parentRect.width - el.offsetWidth));
        y = Math.max(0, Math.min(y, parentRect.height - el.offsetHeight));
        el.style.left = x + 'px';
        el.style.top = y + 'px';
      });
      window.addEventListener('mouseup', ()=>{ isDown = false; el.style.zIndex = ''; });
      // touch support
      el.addEventListener('touchstart', (e)=>{
        isDown = true;
        const touch = e.touches[0];
        const rect = el.getBoundingClientRect();
        offsetX = touch.clientX - rect.left;
        offsetY = touch.clientY - rect.top;
      }, {passive:true});
      window.addEventListener('touchmove', (e)=>{
        if(!isDown) return;
        const touch = e.touches[0];
        const parentRect = el.parentElement.getBoundingClientRect();
        let x = touch.clientX - parentRect.left - offsetX;
        let y = touch.clientY - parentRect.top - offsetY;
        x = Math.max(0, Math.min(x, parentRect.width - el.offsetWidth));
        y = Math.max(0, Math.min(y, parentRect.height - el.offsetHeight));
        el.style.left = x + 'px';
        el.style.top = y + 'px';
      }, {passive:true});
      window.addEventListener('touchend', ()=> isDown = false);
    }

    // ----- Payment & download placeholders -----
    function payNow(){
      alert('To complete payment: integrate PayFast/Yoco/SnapScan. This is a placeholder. After payment we will provide the high-resolution download. Price: R20');
      // After successful payment, you'd call server to unlock the download.
    }

    function downloadPreview(){
      alert('Download requires payment integration. This button is a placeholder until pay gateway is connected.');
    }

    // Allow pressing Enter in prompt input to generate
    document.getElementById('promptInput').addEventListener('keydown', (e)=>{
      if(e.key === 'Enter') generatePoster();
    });

    // Accessibility: let user add text with keyboard focus
    // Preload with one editable text for convenience
    // (Only when poster exists, user can add)
  </script>
</body>
</html>
